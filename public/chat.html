<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  const form = document.getElementById("chat-form");
  const input = document.getElementById("message");
  const chatBox = document.getElementById("chat-box");

  form.addEventListener("submit", function (e) {
    e.preventDefault();
    if (input.value.trim()) {
      socket.emit("chat message", input.value);
      input.value = "";
    }
  });

  socket.on("chat message", function (msg) {
    const msgDiv = document.createElement("div");
    msgDiv.innerHTML = `<strong>${msg.user}:</strong> ${msg.text}`;
    msgDiv.className = "bg-white p-2 rounded shadow";
    chatBox.appendChild(msgDiv);
    chatBox.scrollTop = chatBox.scrollHeight;
  });
</script>
